<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>電子計算器 · 分壓 · Buck/Boost · 熱敏電阻</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,600;0,9..40,700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="page">
    <header class="header">
      <h1>電子計算器 <span class="card-title-en">Electronics Calculator</span></h1>
      <p class="tagline">分壓 · Buck/Boost · 熱敏電阻 · 隨手算 <span class="card-desc-en">Voltage divider · Buck/Boost · Thermistor · Quick calc</span></p>
    </header>

    <main class="calculators">
      <!-- 電壓分壓 -->
      <section class="card" id="voltage-divider">
        <h2>電壓分壓 <span class="card-title-en">Voltage divider</span></h2>
        <p class="card-desc">依 R1、R2 計算輸出電壓 Vout <span class="card-desc-en">Vout from R1, R2</span></p>
        <div class="form-row">
          <label>
            <span class="label-zh">輸入電壓 Vin</span>
            <span class="label-en">Input voltage Vin</span>
            <input type="number" id="vin" value="5" step="any" min="0" placeholder="V">
            <span class="unit">V</span>
          </label>
        </div>
        <div class="form-row two-cols">
          <label>
            <span class="label-zh">R1</span>
            <span class="label-en">R1</span>
            <input type="number" id="r1" value="10000" step="any" min="0" placeholder="Ω">
            <span class="unit">Ω</span>
          </label>
          <label>
            <span class="label-zh">R2</span>
            <span class="label-en">R2</span>
            <input type="number" id="r2" value="10000" step="any" min="0" placeholder="Ω">
            <span class="unit">Ω</span>
          </label>
        </div>
        <div class="result-box">
          <div class="result-label">Vout <span class="result-label-en">Output voltage</span></div>
          <div class="result-value" id="vout">—</div>
          <div class="result-unit">V</div>
        </div>
        <div class="result-box secondary">
          <div class="result-label">流經電流 <span class="result-label-en">Current through divider</span></div>
          <div class="result-value" id="divider-current">—</div>
          <div class="result-unit">mA</div>
        </div>
      </section>

      <!-- 電池續航 -->
      <section class="card" id="battery-life">
        <h2>電池續航時間 <span class="card-title-en">Battery runtime</span></h2>
        <p class="card-desc">依容量與耗電估算使用時間 <span class="card-desc-en">Estimate runtime from capacity and draw</span></p>
        <div class="form-row">
          <label>
            <span class="label-zh">電池容量</span>
            <span class="label-en">Battery capacity</span>
            <input type="number" id="capacity" value="1000" step="any" min="0" placeholder="mAh">
            <span class="unit">mAh</span>
          </label>
        </div>
        <div class="form-row">
          <label>
            <span class="label-zh">平均耗電電流</span>
            <span class="label-en">Average current draw</span>
            <input type="number" id="current-draw" value="50" step="any" min="0" placeholder="mA">
            <span class="unit">mA</span>
          </label>
        </div>
        <div class="form-row optional">
          <label>
            <span class="label-zh">放電係數（可選，如 0.8）</span>
            <span class="label-en">Discharge factor (optional, e.g. 0.8)</span>
            <input type="number" id="discharge-factor" value="1" step="0.05" min="0.1" max="1" placeholder="0.8">
          </label>
        </div>
        <div class="result-box">
          <div class="result-label">預估續航 <span class="result-label-en">Estimated runtime</span></div>
          <div class="result-value" id="runtime">—</div>
          <div class="result-unit">小時 <span class="result-label-en">hours</span></div>
        </div>
        <div class="result-box secondary">
          <div class="result-value" id="runtime-days">—</div>
          <div class="result-unit">天（若 24h 連續） <span class="result-label-en">days (24h continuous)</span></div>
        </div>
      </section>

      <!-- Buck 輸出電壓 (R1, R2) -->
      <section class="card" id="buck-vout">
        <h2>Buck 輸出電壓 <span class="card-title-en">Buck output voltage</span></h2>
        <p class="card-desc">依反饋電阻 R1、R2 與 Vref 計算：Vout = Vref×(1+R1/R2) <span class="card-desc-en">Vout from feedback R1, R2 and Vref</span></p>
        <div class="form-row">
          <label>
            <span class="label-zh">參考電壓 Vref</span>
            <span class="label-en">Reference voltage Vref</span>
            <input type="number" id="buck-vref" value="0.8" step="0.01" min="0" placeholder="V">
            <span class="unit">V</span>
          </label>
        </div>
        <div class="form-row two-cols">
          <label>
            <span class="label-zh">R1（Vout → FB）</span>
            <span class="label-en">R1 (Vout to FB)</span>
            <input type="number" id="buck-r1" value="10000" step="any" min="0" placeholder="Ω">
            <span class="unit">Ω</span>
          </label>
          <label>
            <span class="label-zh">R2（FB → GND）</span>
            <span class="label-en">R2 (FB to GND)</span>
            <input type="number" id="buck-r2" value="10000" step="any" min="0" placeholder="Ω">
            <span class="unit">Ω</span>
          </label>
        </div>
        <div class="result-box">
          <div class="result-label">Vout <span class="result-label-en">Output voltage</span></div>
          <div class="result-value" id="buck-vout-result">—</div>
          <div class="result-unit">V</div>
        </div>
      </section>

      <!-- Boost 輸出電壓 (R1, R2) -->
      <section class="card" id="boost-vout">
        <h2>Boost 輸出電壓 <span class="card-title-en">Boost output voltage</span></h2>
        <p class="card-desc">依反饋電阻 R1、R2 與 Vref 計算：Vout = Vref×(1+R1/R2) <span class="card-desc-en">Vout from feedback R1, R2 and Vref</span></p>
        <div class="form-row">
          <label>
            <span class="label-zh">參考電壓 Vref</span>
            <span class="label-en">Reference voltage Vref</span>
            <input type="number" id="boost-vref" value="0.8" step="0.01" min="0" placeholder="V">
            <span class="unit">V</span>
          </label>
        </div>
        <div class="form-row two-cols">
          <label>
            <span class="label-zh">R1（Vout → FB）</span>
            <span class="label-en">R1 (Vout to FB)</span>
            <input type="number" id="boost-r1" value="10000" step="any" min="0" placeholder="Ω">
            <span class="unit">Ω</span>
          </label>
          <label>
            <span class="label-zh">R2（FB → GND）</span>
            <span class="label-en">R2 (FB to GND)</span>
            <input type="number" id="boost-r2" value="10000" step="any" min="0" placeholder="Ω">
            <span class="unit">Ω</span>
          </label>
        </div>
        <div class="result-box">
          <div class="result-label">Vout <span class="result-label-en">Output voltage</span></div>
          <div class="result-value" id="boost-vout-result">—</div>
          <div class="result-unit">V</div>
        </div>
      </section>

      <!-- 熱敏電阻 ADC → 溫度 -->
      <section class="card" id="thermistor-adc">
        <h2>熱敏電阻 ADC → 溫度 <span class="card-title-en">Thermistor ADC to temperature</span></h2>
        <p class="card-desc">分壓：Vcc — R — [ADC] — NTC — GND，Beta 方程 <span class="card-desc-en">Divider + Beta equation</span></p>
        <div class="form-row two-cols">
          <label>
            <span class="label-zh">供電 Vcc</span>
            <span class="label-en">Supply Vcc</span>
            <input type="number" id="th-vcc" value="3.3" step="0.1" min="0" placeholder="V">
            <span class="unit">V</span>
          </label>
          <label>
            <span class="label-zh">串聯電阻 R</span>
            <span class="label-en">Series resistor R</span>
            <input type="number" id="th-r-series" value="10000" step="any" min="0" placeholder="Ω">
            <span class="unit">Ω</span>
          </label>
        </div>
        <div class="form-row two-cols">
          <label>
            <span class="label-zh">ADC 位數</span>
            <span class="label-en">ADC bits</span>
            <input type="number" id="th-adc-bits" value="12" step="1" min="8" max="16" placeholder="10 or 12">
          </label>
          <label>
            <span class="label-zh">ADC 讀數（counts）</span>
            <span class="label-en">ADC reading (counts)</span>
            <input type="number" id="th-adc-value" value="2048" step="1" min="0" placeholder="0">
          </label>
        </div>
        <div class="form-row two-cols">
          <label>
            <span class="label-zh">NTC R0（例 10k@25°C）</span>
            <span class="label-en">NTC R0 (e.g. 10k@25°C)</span>
            <input type="number" id="th-r0" value="10000" step="any" min="0" placeholder="Ω">
            <span class="unit">Ω</span>
          </label>
          <label>
            <span class="label-zh">Beta（β）</span>
            <span class="label-en">Beta (β)</span>
            <input type="number" id="th-beta" value="3950" step="any" min="0" placeholder="K">
          </label>
        </div>
        <div class="result-box">
          <div class="result-label">溫度 <span class="result-label-en">Temperature</span></div>
          <div class="result-value" id="th-temp">—</div>
          <div class="result-unit">°C</div>
        </div>
        <div class="result-box secondary">
          <div class="result-label">NTC 電阻 <span class="result-label-en">NTC resistance</span></div>
          <div class="result-value" id="th-r-ntc">—</div>
          <div class="result-unit">Ω</div>
        </div>
      </section>

      <!-- 歐姆定律 / 功率 -->
      <section class="card" id="ohms-power">
        <h2>歐姆定律 · 功率 <span class="card-title-en">Ohm's law · Power</span></h2>
        <p class="card-desc">已知兩量求第三量：V = I×R，P = V×I <span class="card-desc-en">Given two, find the third</span></p>
        <div class="form-row two-cols">
          <label>
            <span class="label-zh">電壓 V</span>
            <span class="label-en">Voltage V</span>
            <input type="number" id="v" value="5" step="any" min="0" placeholder="V">
            <span class="unit">V</span>
          </label>
          <label>
            <span class="label-zh">電流 I</span>
            <span class="label-en">Current I</span>
            <input type="number" id="i" value="0.1" step="any" min="0" placeholder="A">
            <span class="unit">A</span>
          </label>
        </div>
        <div class="form-row">
          <label>
            <span class="label-zh">電阻 R</span>
            <span class="label-en">Resistance R (leave blank to calc from V, I)</span>
            <input type="number" id="r" value="" step="any" min="0" placeholder="Ω">
            <span class="unit">Ω</span>
          </label>
        </div>
        <div class="result-row">
          <div class="result-box">
            <div class="result-label">功率 P <span class="result-label-en">Power P</span></div>
            <div class="result-value" id="power">—</div>
            <div class="result-unit">W</div>
          </div>
          <div class="result-box secondary">
            <div class="result-label">電阻 R（若未填） <span class="result-label-en">Resistance R (if blank)</span></div>
            <div class="result-value" id="r-calc">—</div>
            <div class="result-unit">Ω</div>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <p>純前端計算，資料不離開你的裝置。可部署到 GitHub Pages / Netlify 隨處開啟。 <span class="card-desc-en">Client-side only; data stays on device. Deploy to GitHub Pages / Netlify.</span></p>
    </footer>
  </div>
  <script src="app.js"></script>
</body>
</html>
